"use strict";var __awaiter=this&&this.__awaiter||function(t,e,i,n){return new(i||(i=Promise))((function(c,o){function r(t){try{u(n.next(t))}catch(t){o(t)}}function a(t){try{u(n.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?c(t.value):(e=t.value,e instanceof i?e:new i((function(t){t(e)}))).then(r,a)}u((n=n.apply(t,e||[])).next())}))};let cachedIP;function getPublicIP(){return __awaiter(this,void 0,void 0,(function*(){if(void 0===cachedIP){let t=["https://icanhazip.com/","http://api.ipify.org/"],e=[];for(let i of t)e.push(new Promise((t,e)=>{fetch(i).then(e=>{e.text().then(e=>t(e))}).catch(()=>e("Failed to get public IP from '"+i+"'."))}));cachedIP=(yield Promise.any(e)).trim()}return cachedIP}))}Object.defineProperty(exports,"__esModule",{value:!0}),require("promise-any-polyfill"),exports.getPublicIP=getPublicIP;
//# sourceMappingURL=ip-utilities.js.map
